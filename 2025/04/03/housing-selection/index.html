<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async
            src="https://www.googletagmanager.com/gtag/js?id=G-321HPHTJEX"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-321HPHTJEX');
        </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Housing Selection</title>
        <link rel="stylesheet" href="https://use.typekit.net/tgd3gjm.css">
        <link rel="stylesheet" href="styles.css">
        <link rel="icon" href="images/icon.png" sizes="96x96">
        <script type="module" src="script.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    </head>
    <body>
        <div id="heading-box">
            <div id="heading">
                <a href="https://www.browndailyherald.com" target="_blank">
                    <img
                        src="images/logo-white.png"
                        id="herald-logo"
                        alt="Brown Daily Herald Logo" />
                </a>
                <h3>The <span id="housing">Housing</span> Process</h3>
                <p
                    style="text-align: center; font-family: 'freight-text-pro', 'Georgia', 'Times', serif; font-style: normal;">
                    Which dorms are available when?
                </p>
                <h6 id="byline" style="text-align: center;">
                    Reporting and web design by
                    <span class="author"><a
                            href="https://www.browndailyherald.com/staff/caleb-ellenberg"
                            target="_blank">Caleb Ellenberg</a></span>
                </h6>
                <div style="display: flex; justify-content: center; gap: 10px;">
                    <button class="enter-button" id="jump-button-2"
                        onclick="scrollToBottom('data-jump-1')">
                        Find your Room
                    </button>
                    <button class="enter-button" id="jump-button"
                        onclick="scrollToBottom('data-jump-2')">
                        Explore the Data
                    </button>
                </div>
                <div class="down-arrow" style="text-align: center;">
                    &#x2193;
                </div>
            </div>
            <div id="media-credit">
                Media by Ellis Rougeou
            </div>
        </div>
        <div style="height: 115vh;"></div>
        <div class="text-box">
            <p>
                On April 8, many rising sophomores and juniors will make one of
                the bigger decisions of their college career — where to live
                next year. Maybe you’re a rising junior vying for a Graduate
                Center single. Maybe you’re an incoming sophomore with a late
                time-slot hoping to avoid Perkins Hall at all costs. No matter
                your goal, The Herald is here to help. The Herald’s Data Desk
                analyzed hour-by-hour data of how last year’s selection process
                played out. The bad news? You probably aren’t getting into Chen
                Family Hall or Danoff Hall. The good news? Unless you sleep
                through your time slot, you probably aren’t going to be forced
                into Perkins either.
            </p>
            <p>
                But there’s a whole lot of housing between those two extremes,
                so The Herald built a couple tools to help you find that sweet
                spot. If you scroll past these paragraphs, you’ll find
                <a href="javascript:scrollToBottom('data-jump-1')">a tool</a>
                where you can specify special-interest housing designations and
                other housing desires to get personalized information about what
                your likely choices will be. For those most eager to dive into
                the data, you can search for every single room matching certain
                criteria at a given point in time in housing. Of course, there’s
                no guarantee that selection this year will go just like last
                year, but you can reasonably expect many patterns to hold.
            </p>
            <p>
                If you scroll a little past that, you can see <a
                    href="javascript:scrollToBottom('data-jump-2')">a graph</a>
                of the
                percentage of rooms available in each dorm, hour-by-hour
                throughout the entire selection process.
            </p>
            <p>
                Enough explaining. Enjoy the data. We hope it helps you through
                one of the more challenging processes in Brunonia. And, of
                course, good luck — you may well need it.
            </p>
        </div>
        <div style="height: 30vh;"></div>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const blackCover = document.createElement("div");
                blackCover.id = "black-cover";
                blackCover.style.position = "absolute";
                blackCover.style.left = "0";
                blackCover.style.width = "100%";
                blackCover.style.height = "500vh";
                blackCover.style.backgroundColor = "black";
                blackCover.style.zIndex = "-1";

                const updateTopDistance = () => {
                    const distanceFromTop = document.getElementById('data-jump-1').offsetTop;
                    blackCover.style.top = `${distanceFromTop}px`;
                };

                updateTopDistance();
                window.addEventListener("resize", updateTopDistance);

                document.body.appendChild(blackCover);
            });
        </script>
        <div style="height: 4vh;"></div>
        <div id="data-jump-1"></div>
        <div style="height: 5vh;"></div>
        <div id="filter-zone">
            <h2 style="margin-bottom: 0px;">How you would have fared in
                2024</h2>
            <p style="text-align: center; font-size: 16px; font-style: italic;">
                Data from 2024 selection process
            </p>
            <h3 style="text-align: center;">Enter info about your selection
                options:</h3>
            <div style="text-align: center;">
                <label for="room-type">Housing Group Size:</label>
                <select class="dropdown" id="room-type">
                    <option value="any">Any</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="9">9</option>
                </select>
            </div>
            <div style="text-align: center; margin-top: 10px;">
                <label for="day">Selection Day:</label>
                <select class="dropdown" id="day">
                    <option value="day1">Day 1</option>
                    <option value="day2">Day 2</option>
                    <option value="day3">Day 3</option>
                </select>
            </div>
            <div style="text-align: center; margin-top: 10px;">
                <label for="selection-time">Approximate selection time:</label>
                <select class="dropdown" id="selection-time">
                    <option value="10">10:00 AM</option>
                    <option value="11">11:00 AM</option>
                    <option value="12">12:00 PM</option>
                    <option value="13">1:00 PM</option>
                    <option value="14">2:00 PM</option>
                    <option value="15">3:00 PM</option>
                    <option value="16">4:00 PM</option>
                    <option value="17">5:00 PM</option>
                </select>
            </div>
            <div style="text-align: center; margin-top: 10px;">
                <label for="housing-pool">Housing Pool:</label>
                <select class="dropdown" id="housing-pool">
                    <option value="General">General</option>
                    <option value="Quiet Housing">Quiet Housing</option>
                    <option value="Substance Free">Substance Free</option>
                    <option value="Same Sex (Male)">Same Sex (Male)</option>
                    <option value="Same Sex (Female)">Same Sex (Female)</option>
                    <option value="Wellness">Wellness</option>
                </select>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="enter-button" id="filter-button">Apply
                    Filters</button>
            </div>
        </div>
        <div id="BACKGROUND"></div>
        <div id="filter-output-zone" class="text-box">
            <div id="percent-output"></div>
            <div id="filter-graph-box"></div>
            <div id="filter-output">
                Select filters to see availible rooms!
            </div>
            <div id="all-rooms">
                <div style="text-align: center; margin-top: 20px;">
                    <button class="enter-button" id="show-rooms-button"
                        onclick="toggleRoomDetails()">Show available
                        rooms</button>
                </div>
                <script>
                function toggleRoomDetails() {
                    const roomDetails = document.getElementById('room-details-output');
                    const button = document.getElementById('show-rooms-button');
                    if (roomDetails.style.display === 'none' || roomDetails.style.display === '') {
                        roomDetails.style.display = 'block';
                        button.textContent = 'Hide available rooms';
                    } else {
                        roomDetails.style.display = 'none';
                        button.textContent = 'Show available rooms';
                    }
                }
                </script>
                <div id="room-details-output"></div>
            </div>
        </div>
        <div style="height: 18vh;"></div>
        <div id="data-jump-2"></div>
        <div style="height: 2vh;"></div>
        <h2 style="margin-bottom: 0px">Beds available over time</h2>
        <p
            style="text-align: center; font-size: 16px; font-style: italic; margin-bottom: 20px;">
            Data from 2024 selection process
        </p>
        <div style="text-align: center;">
            <label for="data-toggle">View:</label>
            <select class="dropdown" id="data-toggle"
                onchange="toggleDataView()">
                <option value="available-beds">Percent Available</option>
                <option value="total-beds">Total Available</option>
            </select>
        </div>
        <div style="text-align: center; margin-top: 20px;">
            <button id="toggle-lines-button" class="enter-button"
                style="margin: 10px;">
                Toggle All Dorms
            </button>
        </div>
        <div id="graph-box"></div>

        <script>
        function scrollToBottom(jumpID) {
            const element = document.getElementById(jumpID);
            if (element) {
            element.scrollIntoView({ behavior: 'smooth' });
            } else {
            console.error(`Element with id "${jumpID}" not found`);
            }
        }
    </script>
    </body>
</html>