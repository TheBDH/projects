<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore Brown Community - Interactive</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://use.typekit.net/brt8lxm.css">
    <link rel="stylesheet" href="https://use.typekit.net/tgd3gjm.css">
  </head>
  <body>
    <!-- Interactive Visualization Container -->
    <div id="main-container">
      <div id="viz-container">
        <svg id="main-svg"></svg>
      </div>
    </div>

    <!-- Title overlay -->
    <div id="title-overlay">
      <h2>Each dot represents a member of the Brown community in 2024</h2>
      <div class="scroll-prompt">&#x2193; Scroll to explore</div>
    </div>

    <!-- Legend -->
    <div id="legend">
      <div class="legend-item">
        <div class="legend-dot" style="background: #4A90E2;"></div>
        <span id="legend-label-1">Students</span>
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background: #F5A623;"></div>
        <span id="legend-label-2">Faculty</span>
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background: #7ED321;"></div>
        <span id="legend-label-3">Staff</span>
      </div>
    </div>

    <!-- Back to article button -->
    <a href="index.html" id="back-to-article">&#x2190; Back to Article</a>

    <!-- Back button (for within interactive navigation) -->
    <button id="back-button">&#x2190; Back to Home</button>

    <!-- Button container for Students -->
    <div id="button-container">
      <button class="action-button" id="btn-concentration">View by Concentration</button>
      <button class="action-button" id="btn-gender">View by Gender</button>
    </div>

    <!-- Button container for Faculty -->
    <div id="faculty-button-container">
      <button class="action-button" id="btn-department">View by Department</button>
      <button class="action-button" id="btn-rank">View by Rank</button>
    </div>

    <!-- Slider -->
    <div id="slider-container">
      <div id="slider-label">Cluster by Concentration &#x2192;</div>
      <input type="range" id="cluster-slider" min="0" max="1" step="0.01" value="0">
    </div>

    <!-- Click instruction -->
    <div id="click-instruction">Click any group to explore</div>

    <!-- Popup modal -->
    <div id="popup-overlay"></div>
    <div id="popup-modal">
      <button id="popup-close">&#xd7;</button>
      <div id="popup-content"></div>
    </div>

    <script src="brown-community-data.js"></script>
    <script src="brown-community-viz.js"></script>
    <script>
      // Auto-initialize the interactive visualization
      if (typeof init === 'function') {
        init();
        // Enable scroll-based scene transitions
        if (typeof enableInteractiveScroll === 'function') {
          enableInteractiveScroll();
        }
      }
    </script>
  </body>
</html>
