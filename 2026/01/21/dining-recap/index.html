<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <!-- <script async
            src="https://www.googletagmanager.com/gtag/js?id=G-321HPHTJEX"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-321HPHTJEX');
        </script> -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Brown Dining Recap</title>
        <link rel="icon" href="icons/favicon-64x64.png" sizes="64x64"
            type="image/png">
        <link rel="icon" href="icons/favicon-32x32.png" sizes="32x32"
            type="image/png">
        <link rel="icon" href="icons/favicon-16x16.png" sizes="16x16"
            type="image/png">
        <link rel="apple-touch-icon" href="icons/favicon-64x64.png">
        <link rel="stylesheet" href="./style.css">
        <link rel="stylesheet" href="https://use.typekit.net/tgd3gjm.css">
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- Firebase App -->
        <script
            src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>

        <!-- Firebase Storage -->
        <script
            src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3.0.0/dist/fp.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
        <script type="module" src="script.js"></script>
    </head>
    <body>
        <div id="intro" style="text-align: center;">
            <div
                style="display: flex; align-items: end; justify-content: center; gap: 2px; padding-top: 20px;">
                <a href="https://www.browndailyherald.com" target="_blank">
                    <img
                        src="img/logo-black.png"
                        id="herald-logo"
                        alt="Brown Daily Herald Logo"
                        style="height: 60px; width: auto;" />
                </a>
                <p
                    style="font-family: freight-text-pro, Georgia, Times, serif; font-size: 30px; padding-bottom: 6px;">presents:</p>
            </div>
            <p
                style="font-family: freight-text-pro, Georgia, Times, serif; font-size: 45px; font-weight: bold;">Dining
                Recap</p>
            <div class="text"
                style="text-align: center; margin-top: 10px; margin-bottom: 20px;">
                <p
                    style="font-family: freight-text-pro, Georgia, Times, serif; font-size: 18px; font-style: italic;">By
                    Nate Chen, <a
                        href="https://www.browndailyherald.com/staff/caleb-ellenberg"
                        target="_blank">Caleb Ellenberg</a>, May Fujita, Samyak
                    Jain, <a
                        href="https://www.browndailyherald.com/staff/kenna-lee"
                        target="_blank">Kenna Lee</a>, Julia Miyasaka and
                    Alexander Fraire Rendon</p>
            </div>
            <img class="article-image" src="img/KaiolenaTacazonRatty.jpg"
                alt="ratty outside"
                style="width: 50%;">
            <p
                style="font-family: freight-text-pro, Georgia, Times, serif; font-size: 18px; font-style: italic; margin-top: 5px;">Media
                by Kaiolena Tacazon</p>
            <div class="text">
                <p>
                    Have you ever wondered what your favorite dining hall really
                    is?
                    How often do you actually make it out of bed for breakfast
                    before that 9 a.m.? Just how many snacks do you grab from
                    Jo's
                    on Saturday nights? The Herald's data desk has set out to
                    help
                    you answer those questions and more. You can follow the
                    directions below to download your dining swipe data and
                    upload it to see your dining statistics. If you'd like, you
                    can also choose
                    to share your data with The Herald for future analysis. Your
                    data is anonymous, and we will only analyze and publish data
                    in aggregate. We hope you enjoy!
                </p>
            </div>
            <div class="text">
                <p>
                    1. Go to your <a
                        href="https://mycard.brown.edu/statementnew.php?"
                        target="_blank">Brown card dashboard</a>.
                    <br>
                    <br>
                    2. Select your meal plan ("## Weekly Meals" or
                    "Flex ## Meals") under "Account".
                    <br>
                    <br>
                    3. Select "View last 6 months" under "Statement Period".
                    <br>
                    <br>
                    4. Click the yellow "View Statement" button to retrieve your
                    swipe history.
                </p>
            </div>
            <img class="article-image" src="img/select-view-statement-guide.png"
                alt="how to click statement button"
                style="width: 50%; margin-top: 25px;">
            <div class="text">
                <p>
                    5. Click the grey "CSV" button in the top right corner of
                    the page.
                </p>
            </div>
            <img class="article-image" src="img/select-csv-guide.png"
                alt="how to click CSV button"
                style="width: 50%; margin-top: 25px;">
            <div class="text">
                <p>
                    6. Select your downloaded CSV in the file upload button
                    below. Click "Process file" to view your stats.
                </p>
            </div>
            <div style="height: 5vh;"></div>
            <form id="csvForm">
                <div class="form-group">
                    <div class="file-input-wrapper">
                        <input type="file" id="file-upload" name="file"
                            required>
                        <label for="file-upload"
                            class="file-input-button">Upload CSV...</label>
                    </div>
                    <button type="button" id="processButton">Process
                        data</button>
                    <!-- <label class="custom-checkbox">
                        <input type="checkbox" id="share-data" checked />
                        <span class="checkmark"></span>
                        Share data with The Herald for anonymous aggregate
                        analysis
                    </label> -->
                </div>
                <div style="height: 5vh;"></div>
            </form>
        </div>
        <div id="onboarding">
            <div
                style="display: flex; align-items: end; justify-content: center; gap: 2px; padding-top: 20px;">
                <a href="https://www.browndailyherald.com" target="_blank">
                    <img
                        src="img/logo-black.png"
                        id="herald-logo"
                        alt="Brown Daily Herald Logo"
                        style="height: 60px; width: auto;" />
                </a>
            </div>
            <div id="questionPage1" style="justify-content: center;">
                <div class="text" style="text-align: center;">
                    Do you consent to share your data with The Herald for
                    anonymous, aggregate analysis and publication?
                </div>
                <div style="height: 5vh"></div>
                <div class="form-group">
                    <button type="button" id="yesShare"
                        style="background-color: #4E3629;">Yes</button>
                    <button type="button" id="noShare">No</button>
                </div>
            </div>
            <div id="questionPage2"
                style="display: none; flex-direction: column; align-items: center; gap: 10px;">
                <div class="text" style="text-align: center;">
                    Thank you for sharing! Please answer the following questions to help with our analysis:
                </div>
                <div class="dropdown-container">
                    <select id="classYear" class="dropdown">
                        <option value disabled selected>Select class
                            year</option>
                        <option value="first">First-year</option>
                        <option value="sophomore">Sophomore</option>
                        <option value="junior">Junior</option>
                        <option value="senior">Senior</option>
                    </select>
                </div>
                <div class="dropdown-container">
                    <select id="campus" class="dropdown">
                        <option value disabled selected>Select campus
                            region</option>
                        <option value="north">North Campus</option>
                        <option value="south">South Campus</option>
                    </select>
                </div>
                <div class="dropdown-container">
                    <select id="mealPlan" class="dropdown">
                        <option value disabled selected>Select current meal plan</option>
                        <option value="20weekly">20 Weekly</option>
                        <option value="14weekly">14 Weekly</option>
                        <option value="flex460">Flex 460</option>
                        <option value="flex330">Flex 330</option>
                        <option value="flex70">Flex 70</option>
                    </select>
                </div>
                <div style="height: 1vh;"></div>
                <button type="button" id="seeData"
                        style="background-color: #4E3629;">Explore your data</button>
            </div>
        </div>
        <div id="stats" style="display: none;">
            <div
                style="display: flex; align-items: end; justify-content: center; gap: 2px; padding-top: 20px;">
                <a href="https://www.browndailyherald.com" target="_blank">
                    <img
                        src="img/logo-black.png"
                        id="herald-logo"
                        alt="Brown Daily Herald Logo"
                        style="height: 60px; width: auto;" />
                </a>
            </div>
            <div class="text">
                <p
                    style="font-size: 30px; font-weight: bold;">You
                    are a:</p>
                <div id="custom-archetype">
                    <div class="word" id="word1"></div>
                    <div class="word" id="word2"></div>
                    <div class="word" id="word3"></div>
                </div>
                <div style="height: 5vh;"></div>
                <p
                    style="font-size: 30px; font-weight: bold;">Your top
                    combo:</p>
                <div id="combo-box"></div>
                <div style="height: 5vh;"></div>
                <p
                    style="font-size: 30px; font-weight: bold;">Your top
                    hall by meal:</p>
                <div id="spot-by-meal">
                    <div id="breakfast"></div>
                    <div id="lunch"></div>
                    <div id="dinner"></div>
                    <div id="lateNight"></div>
                </div>
                <div style="height: 5vh;"></div>
                <p
                    style="font-size: 30px; font-weight: bold;">The full
                    breakdown:</p>
                <div style="height: 5vh;"></div>
            </div>
            <div id="charts-grid-wrapper" class="charts-grid-wrapper">
                <div class="chart-container" id="pie-chart-container">
                    <canvas id="myPieChart"></canvas>
                </div>
                <div class="chart-container" id="hours-chart-container">
                    <canvas id="timeBarChart"></canvas>
                </div>
                <div class="chart-container" id="days-chart-container">
                    <canvas id="daysBarChart"></canvas>
                </div>
                <div class="chart-container" id="stats-container">
                    <div class="stats-wrapper">
                        <div id="statsOutput" class="stats-output">No stats
                            available yet.</div>
                    </div>
                </div>
            </div>
            <div style="height: 5vh;"></div>
            <form id="shareForm">
                <div class="form-group">
                    <button type="button" class="blue-button"
                        id="shareResultsButton">Share
                        Results</button>
                    <button type="button" id="shareSiteButton">Share
                        Site</button>
                </div>
            </form>
            <div style="height: 5vh;"></div>
        </div>
    </body>
</html>